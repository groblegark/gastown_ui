# Gastown UI reverse proxy with basic auth
#
# Access URLs (need AWS Security Group to allow these ports):
# - https://localhost:9443 (self-signed cert, local only)
# - http://<ip>:8888 (no TLS)
#
# For external access: Open ports 80/443 in AWS Security Group
# Then add: https://35-153-115-41.sslip.io (will get Let's Encrypt cert)
#
# Credentials: gastown / gastown2026

# HTTP access on port 8888
http://:8888 {
	basicauth * {
		gastown $2a$14$AARsqkG313a.1WxA/LMu/uQK13ogzU697.NYHaGDYy7GPGOoTgMau
	}
	reverse_proxy localhost:5173
	encode gzip
}

# HTTPS with internal/self-signed cert on port 9443
https://localhost:9443 {
	tls internal
	basicauth * {
		gastown $2a$14$AARsqkG313a.1WxA/LMu/uQK13ogzU697.NYHaGDYy7GPGOoTgMau
	}
	reverse_proxy localhost:5173
	encode gzip
}
